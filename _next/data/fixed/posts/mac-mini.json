{
  "pageProps": {
    "postData": {
      "slug": "mac-mini",
      "tags": ["Apple", "Mac", "router", "VNC", "iOS", "MacOS"],
      "isDraft": false,
      "isArchived": true,
      "title": "Mac Mini Is All You Need",
      "date": "2025-11-23 17:40:37",
      "isLegacy": false,
      "lang": "en",
      "tocHtml": "<ol>\n<li><a href=\"#Prerequisite\">Prerequisite</a></li>\n<li><a href=\"#Mac-Mini-is-a-247-Remote-Server\">Mac Mini is a 24/7 Remote Server</a>\n<ol>\n<li><a href=\"#SSH-Server\">SSH Server</a></li>\n<li><a href=\"#VNC-Server\">VNC Server</a></li>\n</ol>\n</li>\n<li><a href=\"#Mac-Mini-can-be-a-NAS\">Mac Mini can be a NAS</a></li>\n<li><a href=\"#Mac-Mini-can-be-a-24H-Silent-Downloader\">Mac Mini can be a 24H Silent Downloader</a></li>\n<li><a href=\"#Mac-Mini-can-be-a-Backup-Server\">Mac Mini can be a Backup Server</a></li>\n<li><a href=\"#Mac-Mini-can-be-a-TV-Box\">Mac Mini can be a TV Box</a></li>\n<li><a href=\"#Mac-Mini-can-be-an-Apple-caching-server\">Mac Mini can be an Apple caching server</a></li>\n<li><a href=\"#Mac-Mini-can-allow-development-of-iOSMacOS-App\">Mac Mini can allow development of iOS/MacOS App</a></li>\n<li><a href=\"#Useful-Configuration\">Useful Configuration</a>\n<ol>\n<li><a href=\"#Prevent-Service-Interruption\">Prevent Service Interruption</a></li>\n<li><a href=\"#Improve-Fault-Tolerance\">Improve Fault Tolerance</a></li>\n<li><a href=\"#Improve-Security\">Improve Security</a></li>\n<li><a href=\"#Improve-Privacy-Protection\">Improve Privacy Protection</a></li>\n<li><a href=\"#Reduce-Energy-Consumption\">Reduce Energy Consumption</a></li>\n<li><a href=\"#Optimize-Storage-Usage\">Optimize Storage Usage</a></li>\n</ol>\n</li>\n</ol>",
      "articleHtml": "<p>Because of ultra-low power consumption, easy to use interface, nearly silent working, Mac Mini M4 has become a good candidate for lots of more interesting usage, like NAS, home media server, soft router.</p>\n<h1 id=\"Prerequisite\">Prerequisite<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Prerequisite\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<ul>\n<li>If you buy the cheapest version with the default disk capacity 256 GB which is low, you have different options to expand the storage. You can buy an external SSD that support Thunderbolt 4. Buying an Thunderbolt 4 enclosure plus branded NVMe SSD is usually cheaper than the standalone branded portal SSD. You can also manually replace the internal SSD and upgrade to 2TB.</li>\n<li>Buy a HDMI virtual display emulator to allow working headless while allow remote VNC connect.</li>\n<li>Assign a static IP address to the Mac.<!-- -->\n<ul>\n<li>This can be configured in the main router. With main router option, if using Wi-Fi remember to turn off <strong>private Wi-Fi address</strong> in the Wi-Fi configuration to allow assignment by fixed MAC address.</li>\n<li>This can be also be configured in the network/Wi-Fi setting.</li>\n</ul>\n</li>\n<li>Install <a href=\"https://formulae.brew.sh/\" rel=\"nofollow\" target=\"_blank\">Homebrew</a> for easy software package management.</li>\n</ul>\n<h1 id=\"Mac-Mini-is-a-247-Remote-Server\">Mac Mini is a 24/7 Remote Server<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Mac-Mini-is-a-247-Remote-Server\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<h2 id=\"SSH-Server\">SSH Server<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#SSH-Server\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<p>To enable SSH access, we can go to Settings -&gt; General -&gt; Sharing and enable <strong>Remote Login</strong>. For easy access, we can edit the local hostname to something simple e.g. <code>mac-mini.local</code>.</p>\n<p>To secure your SSH server, you can change default SSH port to something else. It is recommended to use private ports between 49152 to 65535. You can edit with</p>\n<pre><code>sudo nano /etc/services\n</code></pre>\n<p>find the line with <code>CTRL+W</code> and search for <code>SSH</code></p>\n<pre><code>ssh  22/udp    #SSH Remote Login Protocol\nssh  22/tcp    #SSH Remote Login Protocol\n</code></pre>\n<p>uncomment it and change it to your desired port</p>\n<pre><code>ssh  &lt;your desired new port&gt;/udp    #SSH Remote Login Protocol\nssh  &lt;your desired new port&gt;/tcp    #SSH Remote Login Protocol\n</code></pre>\n<p>Restart the SSH service</p>\n<pre><code>sudo launchctl unload /System/Library/LaunchDaemons/ssh.plist\nsudo launchctl load   /System/Library/LaunchDaemons/ssh.plist\n</code></pre>\n<p>Now you can access your Mac Mini with</p>\n<pre><code>ssh -p &lt;your new ssh port&gt; &lt;your user name&gt;@&lt;your mac mini host name&gt;\n</code></pre>\n<p>Using certificate login instead password is much more recommended, following these steps to switch to SSH login with certificate:</p>\n<p>First generate an SSH key pair on your SSH client machine by using following command. You’ll be prompted to choose a path to save the key. The default path is <code>~/.ssh/id_ed25519</code>. It’s recommended to name the key after the server, e.g., <code>~/.ssh/mac-mini</code>.</p>\n<pre><code>ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;\n</code></pre>\n<p>upload the public key to your Mac Mini host</p>\n<pre><code>ssh-copy-id -i ~/.ssh/&lt;ssh key pair name&gt;.pub &lt;your username&gt;@&lt;your mac mini hostname&gt;\n</code></pre>\n<p>Now you should be able to login without password</p>\n<pre><code>ssh -i ~/.ssh/&lt;ssh key pair name&gt; -p &lt;your new ssh port&gt; &lt;your user name&gt;@&lt;your mac mini host name&gt;\n</code></pre>\n<p>After confirming we can login with certificate we can now disable the password login</p>\n<pre><code>sudo nano /etc/ssh/sshd_config\n</code></pre>\n<p>and modify following lines as</p>\n<pre><code>PubkeyAuthentication yes\nPasswordAuthentication no\nKbdInteractiveAuthentication no\nPermitRootLogin prohibit-password\n</code></pre>\n<p>Restart the SSH service again</p>\n<pre><code>sudo launchctl unload /System/Library/LaunchDaemons/ssh.plist\nsudo launchctl load   /System/Library/LaunchDaemons/ssh.plist\n</code></pre>\n<h2 id=\"VNC-Server\">VNC Server<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#VNC-Server\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<p>To enable SSH access, we can go to Settings -&gt; General -&gt; Sharing and enable <strong>Remote Login</strong>.</p>\n<ul>\n<li>Enable remote desktop<!-- -->\n<ol>\n<li>Go to Settings -&gt; General -&gt; Sharing and enable <strong>Screen Sharing</strong>. Now you are ready to connect to Mac Mini using any VNC client. To connect securely to the VNC endpoint, use <strong>Apple Remote Desktop</strong> if have Mac or use SSH tunnel <code>ssh -N -L 5901:localhost:5900 &lt;your username&gt;@&lt;your mac mini hostname&gt;</code> and VNC client connect to local proxy port.</li>\n</ol>\n</li>\n</ul>\n<h1 id=\"Mac-Mini-can-be-a-NAS\">Mac Mini can be a NAS<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Mac-Mini-can-be-a-NAS\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<ol>\n<li><del>Go to Settings -&gt; Users &amp; Groups and create a sharing only account</del></li>\n<li>Go to Settings -&gt; General -&gt; Sharing and enable <strong>File Sharing</strong>.</li>\n<li>Click on <strong>!</strong> icon on the right<!-- -->\n<ol>\n<li>Remove access for all others users and disable <strong>allow full disk access for all users</strong></li>\n<li>Choose the external drive as shared location. This is required for sharing external drive because symlink from user folder (which is default sharing location) to external drive doesn&#x27;t work.</li>\n</ol>\n</li>\n<li>Click <strong>Options</strong> and enable account for sharing to Windows if needed.</li>\n</ol>\n<p>可以组raid</p>\n<h1 id=\"Mac-Mini-can-be-a-24H-Silent-Downloader\">Mac Mini can be a 24H Silent Downloader<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Mac-Mini-can-be-a-24H-Silent-Downloader\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<p>You can run any download job on the Mac Mini and leave it on forever.</p>\n<h1 id=\"Mac-Mini-can-be-a-Backup-Server\">Mac Mini can be a Backup Server<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Mac-Mini-can-be-a-Backup-Server\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<p>You can download Dropbox, Google Drive, OneDrive, etc. and start synchronizing file to local drive.</p>\n<h1 id=\"Mac-Mini-can-be-a-TV-Box\">Mac Mini can be a TV Box<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Mac-Mini-can-be-a-TV-Box\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<h1 id=\"Mac-Mini-can-be-an-Apple-caching-server\">Mac Mini can be an Apple caching server<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Mac-Mini-can-be-an-Apple-caching-server\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<h1 id=\"Mac-Mini-can-allow-development-of-iOSMacOS-App\">Mac Mini can allow development of iOS/MacOS App<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Mac-Mini-can-allow-development-of-iOSMacOS-App\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<p>Go to <a href=\"https://developer.apple.com/download/all/\" rel=\"nofollow\" target=\"_blank\">https://developer.apple.com/download/all/</a> and download <strong>Xcode</strong> and <strong>Command Line Tools</strong> and other relevant tools for your MacOS and/or iOS app development. You can also download them from App Store. <strong>TestFlight</strong> is also useful.</p>\n<h1 id=\"Useful-Configuration\">Useful Configuration<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Useful-Configuration\"><i class=\"fa-solid fa-link\"></i></a></h1>\n<h2 id=\"Prevent-Service-Interruption\">Prevent Service Interruption<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Prevent-Service-Interruption\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<ul>\n<li>Go to Settings -&gt; Energy<!-- -->\n<ul>\n<li>enable <strong>prevent automatic sleeping when display is off</strong></li>\n</ul>\n</li>\n<li>Go to Settings -&gt; General -&gt; Software Update<!-- -->\n<ul>\n<li>disable <strong>beta update</strong></li>\n<li>disable <strong>automatically download new updates when available</strong>.</li>\n<li>disable <strong>automatically install macOS updates</strong></li>\n<li>disable <strong>automatically install application updates from the App Store</strong></li>\n</ul>\n</li>\n<li>(if you use Mac Mini in headless mode) Go to Settings -&gt; Lock Screen<!-- -->\n<ul>\n<li>set <strong>turn display off when inactive</strong> to <strong>never</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Improve-Fault-Tolerance\">Improve Fault Tolerance<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Improve-Fault-Tolerance\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<ul>\n<li>Go to Settings -&gt; Energy<!-- -->\n<ul>\n<li>enable <strong>start up automatically after power failure</strong>.</li>\n</ul>\n</li>\n<li>Go to Settings -&gt; General -&gt; Time Machine<!-- -->\n<ul>\n<li>click on <strong>add backup disk...</strong> and select an external disk. You can perform partition on your external disk to have a volume dedicated for backup while other space for storing other files.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Improve-Security\">Improve Security<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Improve-Security\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<ul>\n<li>Go to Network -&gt; Firewall<!-- -->\n<ul>\n<li>enable <strong>firewall</strong></li>\n<li>enable <strong>stealth mode</strong></li>\n<li>disable <strong>automatically allow built-in software to receive incoming connections</strong></li>\n<li>disable <strong>automatically allow downloaded signed software to receive incoming connections</strong></li>\n</ul>\n</li>\n<li>Go to Settings -&gt; Lock Screen<!-- -->\n<ul>\n<li>set <strong>screen saver</strong> to <strong>5 min</strong></li>\n<li>set <strong>require password after lock</strong> to <strong>immediately</strong>.</li>\n<li>disable <strong>show user name and photo</strong></li>\n<li>disable <strong>password hints</strong></li>\n<li>disable <strong>show message when locked</strong></li>\n<li>set <strong>login window shows</strong> to <strong>name and password</strong></li>\n</ul>\n</li>\n<li>Go to Settings -&gt; Users &amp; Groups<!-- -->\n<ul>\n<li>turn off <strong>automatic log in</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Improve-Privacy-Protection\">Improve Privacy Protection<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Improve-Privacy-Protection\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<ul>\n<li>Go to Settings -&gt; Wi-Fi -&gt; Details<!-- -->\n<ul>\n<li>change <strong>private Wi-Fi address</strong> to <strong>Rotating</strong>.</li>\n<li>enable <strong>limit IP address tracking</strong></li>\n</ul>\n</li>\n<li>Go to App Store -&gt; Settings<!-- -->\n<ul>\n<li>disable <strong>in-app ratings &amp; reviews</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Reduce-Energy-Consumption\">Reduce Energy Consumption<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Reduce-Energy-Consumption\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<ul>\n<li>Bluetooth and Location can be turned off to reduce energy consumption</li>\n<li>Go System Settings -&gt; Displays -&gt; Advance...<!-- -->\n<ul>\n<li>disable <strong>push through the edge of a display to connect a nearby Mac or iPads</strong></li>\n<li>disable <strong>allow your pointer and keyboard to move between nearby Macs or iPads</strong></li>\n</ul>\n</li>\n<li>If you have macOS 26, downgrading system version to macOS Sequoia (version 15) would have lower energy consumption and more stable environment<!-- -->\n<ol>\n<li>Download macOS Sequoia from AppStore</li>\n<li>Go to Application and right click on the <strong>Install macOS Sequoia</strong> and show package content</li>\n<li>run following command <code>sudo &lt;drag and drop the createinstallmedia from package content&gt; --volume &lt;drag and drop the USB or SD volume&gt;</code></li>\n<li>long press the power button and boot into recovery mode</li>\n<li>erase erase macintosh disk</li>\n<li>back to recovery mode and select install macOS Sequoia</li>\n</ol>\n</li>\n<li>Go to Settings -&gt; Privacy &amp; Security and <strong>turn off FileVault</strong></li>\n<li>Go to Settings -&gt; Energy<!-- -->\n<ul>\n<li>disable <strong>wake for network access</strong></li>\n</ul>\n</li>\n<li>Go to App Store -&gt; Settings<!-- -->\n<ul>\n<li>disable <strong>automatic updates</strong></li>\n<li>disable <strong>automatically download apps purchased on other devices</strong></li>\n<li>disable <strong>automatically download in-app content</strong></li>\n<li>disable <strong>video autoplay</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Optimize-Storage-Usage\">Optimize Storage Usage<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#Optimize-Storage-Usage\"><i class=\"fa-solid fa-link\"></i></a></h2>\n<ul>\n<li>Go to App Store -&gt; Settings<!-- -->\n<ul>\n<li>enable <strong>download and install large apps to a separate disk</strong></li>\n</ul>\n</li>\n<li>We can also move Xcode Simulator to external disk (only user one, moving the system one <code>/Library/Developer/CoreSimulator</code> would cause issue)<!-- -->\n<ol>\n<li>check simulator&#x27;s disks are unmounted using Disk Utility</li>\n<li><code>mv ~/Library/Developer/CoreSimulator /Volumes/&lt;your external disk&gt;/Home/Library/Developer/CoreSimulator</code></li>\n<li><code>ln -s /Volumes/&lt;your external disk&gt;/Home/Library/Developer/CoreSimulator ~/Library/Developer/CoreSimulator</code></li>\n</ol>\n</li>\n<li>Go to finder -&gt; Go -&gt; Computer and then choose View -&gt; Show View Options and enable <strong>calculate all sizes</strong> so you can manually explore the disk and perform clean up</li>\n</ul>\n<hr/>\n<p>还能配合小米摄像头做监视</p>"
    },
    "lang": "en",
    "_nextI18Next": {
      "initialI18nStore": {
        "en": {
          "navbar": {
            "Home": "Home",
            "Language": "Language",
            "Tags": "Tags",
            "en": "English",
            "es": "Spanish",
            "zh": "Chinese"
          },
          "post-layout": { "Author": "Author: {{author}}", "Tags": "Tags" }
        }
      },
      "initialLocale": "en",
      "ns": ["navbar", "post-layout"],
      "userConfig": {
        "i18n": { "defaultLocale": "en", "locales": ["en", "es", "zh"] },
        "default": {
          "i18n": { "defaultLocale": "en", "locales": ["en", "es", "zh"] }
        }
      }
    }
  },
  "__N_SSG": true
}
