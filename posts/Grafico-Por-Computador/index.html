<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="content-language" content="es" />
    <link rel="icon" href="/favicon.ico" />
    <title>Grafico Por Computador</title>
    <meta name="og:title" content="Grafico Por Computador" />
    <meta name="author" content="Gao" />
    <meta name="keywords" content="Computer Graphics" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="next-head-count" content="10" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
      integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"
      integrity="sha384-ZPe7yZ91iWxYumsBEOn7ieg8q/o+qh/hQpSaPow8T6BwALcXSCS6C6fSRPIAnTQs"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css"
      integrity="sha512-hasIneQUHlh06VNBe7f6ZcHmeRTLIaQWFd43YriJ0UND19bvYRauxthDg8E4eVNPm9bRUhr5JGeqH7FRFXQu5g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="preload"
      href="/_next/static/css/744fae69a65ffa18.css"
      as="style"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/744fae69a65ffa18.css"
      data-n-g=""
    />
    <link
      rel="preload"
      href="/_next/static/css/f7c7169dc43ab236.css"
      as="style"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/f7c7169dc43ab236.css"
      data-n-p=""
    />
    <noscript data-n-css=""></noscript>
    <script
      defer=""
      nomodule=""
      src="/_next/static/chunks/polyfills-42372ed130431b0a.js"
    ></script>
    <script
      src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js"
      defer=""
    ></script>
    <script
      src="/_next/static/chunks/framework-49c6cecf1f6d5795.js"
      defer=""
    ></script>
    <script
      src="/_next/static/chunks/main-78a206356629e049.js"
      defer=""
    ></script>
    <script
      src="/_next/static/chunks/pages/_app-4103696f59b676b9.js"
      defer=""
    ></script>
    <script
      src="/_next/static/chunks/470-88ca63604181d961.js"
      defer=""
    ></script>
    <script
      src="/_next/static/chunks/287-15331c4732f63f37.js"
      defer=""
    ></script>
    <script
      src="/_next/static/chunks/pages/posts/%5Bslug%5D-b2e1f70da9b1d978.js"
      defer=""
    ></script>
    <script src="/_next/static/fixed/_buildManifest.js" defer=""></script>
    <script src="/_next/static/fixed/_ssgManifest.js" defer=""></script>
  </head>
  <body>
    <div id="__next">
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous"
      />
      <nav
        class="navbar navbar-expand-md navbar-light sticky-top NavigationBar_navBar__fSiIq tw-bg-white/95 tw-shadow tw-shadow-black/25"
      >
        <div class="container-fluid px-md-5">
          <div class="navbar-brand animate__animated animate__pulse">
            <span
              class="tw-rounded tw-bg-black tw-p-1 tw-text-xl tw-font-medium tw-text-white"
              >Gao&#x27;s blog</span
            >
          </div>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="navbar-collapse collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  aria-current="page"
                  href="/posts/langs/es/"
                  >Inicio</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  aria-current="page"
                  href="/posts/langs/es/tags/"
                  >Tags</a
                >
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  >Lenguaje</a
                >
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <a class="dropdown-item" href="/posts/langs/en/">Inglés</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="/posts/langs/es/">Español</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="/posts/langs/zh/">Chino</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <header
        class="tw-flex tw-h-96 tw-w-screen tw-flex-col tw-content-center tw-justify-center tw-bg-cover tw-bg-center tw-bg-no-repeat tw-text-center tw-text-white"
        style="
          background-image: url(/_next/static/media/default-post-preview.c96b099a.jpeg);
        "
      >
        <h1>Grafico Por Computador</h1>
        <span>Autor: Gao</span
        ><span
          ><i class="fa-regular fa-calendar"></i
          ><time class="tw-pl-1.5" datetime="2020-05-31 11:18:28"
            >May 31, 2020</time
          ></span
        >
        <section class="FeaturesTags_tags__qev0a tw-text-center">
          <h6>Tags</h6>
          <ul class="tw-p-0">
            <li class="tw-inline tw-px-1">
              <a
                class="FeaturesTags_tag__f8Svr tw-border-white tw-text-white"
                href="/posts/langs/es/tags/Computer%20Graphics/"
                >Computer Graphics</a
              >
            </li>
          </ul>
        </section>
      </header>
      <div class="tw-mx-auto tw-w-11/12">
        <main>
          <article>
            <iframe
              title="Grafico-Por-Computador"
              src="/Grafico-Por-Computador/index.html"
              width="100%"
              height="0px"
            ></iframe>
          </article>
        </main>
        <aside></aside>
      </div>
      <footer class="tw-text-center tw-text-gray-400">
        <div class="row justify-content-center">
          <ul class="list-inline text-center tw-text-stone-700">
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="https://www.linkedin.com/in/shuxig"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i
                    class="fab fa-linkedin-in fa-stack-1x fa-inverse"
                  ></i></span
              ></a>
            </li>
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="mailto:dalao1002@gmail.com?subject=From my blog&amp;body=Hi,I found this website very useful"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span
              ></a>
            </li>
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="https://github.com/vitaminac"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i class="fab fa-github fa-stack-1x fa-inverse"></i></span
              ></a>
            </li>
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="https://gist.github.com/vitaminac"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i
                    class="fab fa-github-square fa-stack-1x fa-inverse"
                  ></i></span
              ></a>
            </li>
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="https://gitlab.com/vitaminac"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i class="fab fa-gitlab fa-stack-1x fa-inverse"></i></span
              ></a>
            </li>
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="https://www.kaggle.com/dalao1002"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i class="fab fa-kaggle fa-stack-1x fa-inverse"></i></span
              ></a>
            </li>
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="https://leetcode.com/dalao1002"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i class="fas fa-code fa-stack-1x fa-inverse"></i></span
              ></a>
            </li>
            <li class="list-inline-item">
              <a
                class="tw-text-stone-700"
                target="_blank"
                href="https://stackoverflow.com/users/9980245"
                ><span class="fa-stack fa-lg"
                  ><i class="fa fa-circle fa-stack-2x"></i
                  ><i
                    class="fab fa-stack-overflow fa-stack-1x fa-inverse"
                  ></i></span
              ></a>
            </li>
          </ul>
        </div>
        <img
          alt="QR"
          loading="lazy"
          width="1710"
          height="624"
          decoding="async"
          data-nimg="1"
          class="tw-mx-auto tw-max-w-full tw-object-contain tw-object-center lg:tw-max-w-xl"
          style="
            color: transparent;
            background-size: cover;
            background-position: 50% 50%;
            background-repeat: no-repeat;
            background-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 120&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAVklEQVR42gFLALT/AKrStMHRxZXRpW3NilHIekDGcw/CYyjCZwC/z8LTwcan0LKu37rI48+228C838WZ16oApdSxvdPCi86doNmvx+LNu9vDx+LOn9muCIkyTVum2sgAAAAASUVORK5CYII=&#x27;/%3E%3C/svg%3E&quot;);
          "
          src="/_next/static/media/QR.b48259ea.png"
        />
        <p>Copyright © Gao&#x27;s blog 2024</p>
      </footer>
    </div>
    <script id="__NEXT_DATA__" type="application/json">
      {
        "props": {
          "pageProps": {
            "postData": {
              "slug": "Grafico-Por-Computador",
              "title": "Grafico Por Computador",
              "date": "2020-05-31 11:18:28",
              "lang": "es",
              "tags": ["Computer Graphics"],
              "path": "/Grafico-Por-Computador/index.html",
              "markdownContentSource": "\n# Gráfico por computador\n\n## Definición\n\nLas técnicas relacionadas con la **generación de imágenes** en un computado, su proceso consiste en un conjunto de operaciones sobre un **modelo informático e datos(Modelado)** para obtener una **representación gráfica(Renderizado)**.\n\n**La imagen puede describirse como una representación de la variación de una magnitud o un parámetro sobre una superficie**, casi siempre será la **intensidad de la luz**. Una imagen está compuesta de **pixeles** y se almacenan de forma digital con una **precisión** y **número de bits**.\n\nLa imagen que percibimos depende de geometría, características de la luz, características de los materiales.\n\n## Cause gráfico\n\n* Se **divide** el proceso de generación en etapas\n* **Las salidas de una etapa son las entradas de la siguiente**\n* Cada etapa debe tener sus propios recursos\n* **Permite paralelizar etapas**\n\n0. Aplicación: Selecciona las primitivas a pintar y configura el cause \n1. **Transformaciones**\n    1. Se transforma de **coordenadas del modelo** a **coordenadas del mundo**, el **orden** en el que se aplican las coordenadas influye en el resultado final.\n    2. Se transforma de **coordenadas del mundo** a **coordenadas de la cámara**.\n2. **Proyección**: Transformación las coordenadas sobre el plano de vista (2D), ademas hay que pasar de coordenadas normalizadas a coordenadas del frame buffer.\n    1. **Ortográfica**\n    2. **Perspectiva**\n    3. **Viewport**: Definir en que parte de la imagen se va a pintar\n3. **Iluminación**: Calcular los colores\n    * A nivel de vertice\n    * A nivel de fragmento\n4. **Ensamblado**: Agrupa vertices en primitivas\n5. Visibilidad I\n    1. **Culling**\n    2. **Clipping**\n6. **Rasterizado**: Transforma las primitivas en **fragmentos (píxel + datos asociados)**, el valor de los parámetros del fragmento **se interpola**\n7. **Sombreado**: Colorea los fragmentos\n8. Visibilidad II: **Z-buffer** para determinar pixel ocultado por otro\n9. Operaciones con la imagen: blending, motion blur, cartoon filter, gaussian blur, **antialiasing**\n\n## Técnica de modelado\n\nUn modelo suele tener\n\n* **Distribución espacial** y de la forma de los componentes\n* La **conectividad**\n* Información adicional para su uso\n\n### Propiedades deseables en un modelo \n\n* **Precisión**\n* **Dominio**\n* **Ausencia de ambigüedad**\n* **Unicidad**\n* **Cierre**\n* **Compacta**\n* **Eficiencia**\n\n### Modelos de alambre\n\nLa información que se tiene sobre el objeto es un **conjunto de líneas**\n\n### Modelos de mallas\n\nEs conocida como **representación por fronteras**, es necesario definir sus **vértices**, **aristas** y **caras**. Para distinguir fuera y dentro, se usa la **dirección de la normal**. Las caras planas son la forma de representación más extendida y aproxima superficies curvas con precisión dependiente de la resolución. La norma de un vértice a partir de las normales de las caras adyacentes.\n\n1. **Listas no indexadas**\n2. **Listas indexadas**: cada vértice se representa con un índice sobre una lista de coordenadas\n\n![Vertices List](vertices-list.png)\n\nY además:\n\n* Atributos para el renderizado: normales corlo, coordenadas de textura\n* Atributos para la simulación: masa, elasticidad\n* Atributos para la animación: peso del vértice para un determinado hueso\n\n### Representaciones de fronteras no poliédricas\n\n* Parches bicúbicos de Bézier\n* Parches de Catmull-Rom\n* Splines uniformes\n\n### Modelos multiresolución\n\nSe basan en el concepto de **LOD (Level of detail)**\n\n* Distancia a la cámara\n* La orientación respecto a la cámara\n* Posición de las luces\n\n### Otros\n\n* Modelos de alambre: Se representa por un conjunto de líneas\n* Primitivas parametrizables\n* Representaciones de desplazamiento o barrido\n* Volúmenes contenedores: Facilita la **detección de colisiones** y los objetos complejos pueden ser aproximados mediante una **jerarquía de objetos** más simples.\n* Representaciones de partición espacial\n* Geometría sólida constructiva: Un objeto se almacena como un árbol binario\n* Modelos basados en campos escalares: Superficies definidas por un **conjunto de ecuaciones**, Las superficies se deforman en la proximidad de otras, dando lugar a transiciones suaves y permitiendo obtener formas complejas utilizando un número pequeño de dichas primitivas.\n\n## Visibilidad\n\n**Determinar qué elementos son visibles** desde un punto de vista dado y cuales no. **Debemos eliminar del cause aquellos elementos que no son visibles en eapas tempranas**.\n\n### Etapa de aplicacion\n\nLa CPU indica a la GPU que objetos debe de mostrar. Si sabemos que algo no se va a ver, pues **no se le pasa**. p.j. basados en técnicas de subdivisión del espacio.\n\n* BSP (Binary Space Partition): navegación por edificios y ciudades\n* KD-Trees, se utilizan para acelerar algoritmos basados en Ray Tracing\n\n### En el cause gráfico\n\n#### A nivel de primitiva\n\n##### Clipping\n\n* Eliminar partes fuera del volumen de frustum. \n\n![Clipping](clipping-frustum.png)\n![Clipping](clipping.png)\n\nDivide los vértices en dos listas, parte visible y parte invisible\n\n![Clipping Group](clipping-group.png)\n![Clipping Intersect](clipping-intersect.png)\n\n**OpenGL proyecta todo antes de hacer clipping, culling, se hace despues y es más facil ver sus coordenadas están o no en -1 y 1**. Puede originar apariciones/desapariciones repentinas (utilización de niebla para aminorarlo).\n\n![Visible Volume](visible-volume.png)\n![Normalized Volume](normalized-volume.png)\n![Clipping Cut](clipping-cut.png)\n\nRecorte en el plano normal al eje \"Y\"\n\n![Clipping Formula](clipping-formula.png)\n\n* La proyección en perspectiva al volumen auxiliar es no lineal en la coordenada Z\n* Esto provoca que se pierda resolución para los objetos situados cerca del plano \"far\" cuando el plano \"near\" está próximo al origen.\n\n##### Culling\n\nEliminación de caras ocultas que **no sean visibles por la cámara dada su orientación**. Se analiza el **signo del producto escalar** del vector de visualización con la normal a la superficie.\n\n#### A nivel de primitiva o píxel\n\n##### Algoritmo del pintor\n\nSe dibujan todos los polígonos que aparecen en la escena **empezando por los más alejados**, de manera que los polígonos situados en primer plano se dibujan sobre los polígonos situados en el fondo. \n\n##### Buffer de profundidad (**z-buffer**)\n\n**Determinar la profundidad (coordenada z) de cada fragmento**. El Z-buffer está **inicialmente vacío**. Cada vez que un fragmento se dibuje, la coordenada z del fragmento es comparada con el valor actual de dicha posición en el buffer.\n\n* Si es menor, se sobrescribe el buffer de color y se actualiza buffer de profundidad con su z.\n* Si es mayor, éste se descarta.\n\n![Z Buffer](z-buffer.png)\n\n##### Ray Tracing\n\n## Iluminación\n\n![Illumination](illumination.png)\n\nEntendemos por modelo de iluminación el **cálculo de la intensidad de cada color** (RGB por ejemplo) para cada punto de la escena, que puede intervenir\n\nSe ilumina un punto teniendo en cuenta exclusivamente\n\n* Las **luces activas**\n* El **material del objeto**\n* La **orientación del objeto** con respecto a la luz.\n* La **orientación y posición de la cámara** respecto a la superficie y a las fuentes de luz\n* El modelo de iluminación\n\n![Illumination](illumination-light.png)\n\n### Luces\n\n![Light](light.png)\n\n#### **Luces direccionales**\n\n* Luces **situadas en el infinito**\n* **Paralelos**\n\n#### **Luces puntuales**\n    \n* Luces **sin dimensión**\n* Emiten luz **radial**\n\n#### **Luz focal**\n\n* Luz situada en el espacio con una **dirección principal**\n* Puede definirse una zona de penumbra\n\n#### **Luces de área**\n\n* Luces con 1 o más dimensiones.\n* **NO utilizadas en modelos de iluminación local**\n\n### Modelos de iluminación\n\n#### Modelos locales\n\nSólo se considera la interacción fuentes de **luz-objetos**.\n\n* Forward rendering: proyectar los objetos sobre el plano de vista\n* Ray casting (backward rendering): trazar rayos desde la cámara a los objetos\n* Deferred rendering: a se pre-procesan los datos y en la siguiente se calcula el color de cada píxel\n\n##### Modelo de iluminación de Phong\n\nEl modelo de **iluminación** define la **ecuacion para calcular las intensidades** dado los componentes necesarios\n\n$$\n\\lambda = k_{(emissive, \\lambda)} + I_{(A, \\lambda)} k_{(a, \\lambda)} + \\sum_{I \\in lights} f_{att}^I \\Big( I_{(a, \\lambda)} k_{(a, \\lambda)} + I_{(d, \\lambda)} k_{(d, \\lambda)} \\cos{\\theta} + I_{(e, \\lambda)} k_{(e, \\lambda)} \\cos^{n}{\\alpha} \\Big)\n$$\n\n$\\lambda$ suele reducirse a 3 colores básicos (R, G, B).\n\n![Light Components](light-components.png)\n\n###### Componente **ambiental**\n\nProviene de **todas las direcciones** e ilumina todas las caras del objeto por **igual**.\n\nSe modela con\n\n* Intensidad ambiental: aporte de una determinada luz a la intensidad ambiental ($0 \\le I_a \\le 1$)\n* Coeficiente de reflexión ambiental: ($0 \\le k_a \\le 1$)\n* No depende a la distancia a la fuente ni la orientación\n\n$$\nI_a k_a\n$$\n\n###### Componente **difusa**\n\n**Proviene de una dirección** y **se refleja en todas direcciones**.\n\nSe modela con\n\n* Intensidad de la fuente ($0 \\le I_d \\le 1$)\n* Coeficiente de reflexión difusa: ($0 \\le k_d \\le 1$)\n* $N$: normal de la superficie en el punto P.\n* $L$: vector de incidencia de la luz.\n\n$$\nI_d k_d \\cos{\\theta} = I_d k_d (L \\cdot N)\n$$\n\n###### Componente **especular**\n\n**Proviene de una dirección** y **se refleja en una dirección**. La mayor parte de los rayos de luz que proceden de una fuente se reflejan en su superficie en una dirección determinada. Si la cámara se sitúa en la trayectoria de dichos rayos, captará una mayor intensidad en dicho punto.\n\nSe modela con\n\n* Intensidad del componente especular de la fuente de luz $I_e$\n* coeficiente de reflexión especular ($0 \\le k_e \\le 1$)\n* vector de posición del observador $V$\n* vector de incidencia de la luz $L$\n* coeficiente de la rugosidad de la superficie $n$\n\n$$\nI_e k_e \\cos^{n}{\\alpha} = I_e k_e (R \\cdot V)^n\\\\\nR = 2 (L \\cdot N)N - L\n$$\n\n![Specular](specular-component.png)\n![Specular N](specular-parameter.png)\n\n###### Factor de atenuación\n\nSe puede atenuar la luz en función de la distancia\n\n$$\nf_{att} = \\frac{1}{c_1 + c_2 d + c_3 d^2}\n$$\n\n###### Iluminación emisiva\n\nSe ocupa de simular objetos que emiten luz, se simula con un valor fijo independiente de la luz $k_{emissive}$\n\n##### Modelo de sombreado \n\nDefine cuando cuando y donde aplica la ecuacion para obtener la intensidad de cada puntos.\n\n![Shading Model](shading-model.png)\n\n###### Sombreado plano\n\nTodos los puntos de un polígono se sombrean con el **mismo color**\n\n    gl.glShadeModel(GL2.GL_FLAT);\n\nCorrecto si se verifica:\n    * Fuente de luz en el infinito.\n    * Observador en el infinito.\n    * El polígono representa una superficie plana real del objeto que se modela y no es una aproximación de un objeto curvo\n\n###### Sombreado de **Gouraud**\n\nA partir de la normal en cada vértice, se evalúa la ecuación de iluminación para **cada vértice**. Se realiza una **interpolación bilineal** para obtener la intensidad en cada punto interno.\n\n* Problemas con la reflexión especular\n* se realizan en la etapa de vértices\n\n![Bilinear Interpolation](bilinear-interpolation.png)\n\n    gl.glShadeModel(GL2.GL_SMOOTH);\n\n###### Sombreado de **Phong**\n\nAplazando el cálculo de la iluminación hasta el paso de **sombreado del fragmento**. Por lo tanto,  se interpolan las normales de los vértices y las propiedades de color y se aplica la fórmula de Phong para calcular el color por píxel en lugar de por vértice\n\n#### Modelos globales\n\nSe consideran también las **interacciones mutuas entre objetos**. se tienen en cuenta el resto de elementos de la escena. Suelen estar basados en modelos físicos de la luz (óptica, radiación térmica, radiación electromagnética, etc…)\n\n##### Ray trazing\n\n* Solo se tienen en cuenta los rayos que llegan al punto de vista.\n* Se trazan rayos desde el centro de la proyección\n* Al colisionar con un objeto se calcula\n    * El aporte de todas las fuentes de luz\n    * El rayo reflejado\n    * El rayo refractado\n* Se continúa hasta que\n    * El rayo tiene poca energía\n    * Sale de la escena\n    * Choca con un objeto difuso\n* Resuelve bien\n    * Sombras, reflexiones y refracciones\n    * Luz difusa directa\n* Tiene problemas con\n    * La reflexión difusa\n    * Sombras suaves (luces con área)\n    * coste es elevado\n\n##### Radiosity\n##### Radiancia\n##### Photon Mapping\n\n## Buffer de Stencil\n\n    glEnable(GL_STENCIL_TEST);\n    glStencilFunc(parameters);\n\nEl buffer de estarcido es muy útil para limitar zonas espaciales donde poder dibujar\n\n## Buffer de Acumulación\n\n    glAccum(parameters)\n\nEl buffer de acumulación sirve para capturar el buffer de color en un fotograma y aplicarle acumulaciones del color de otro fotograma/s. Una posible aplicación consiste en simular el efecto de estela de un objeto en movimiento.\n\n## Texturas\n\nLa utilización de texturas aumenta el realismo visual de la imagen sin aumentar número de polígonos.\n\n### Unidimensionales\n\nBandas que varían en una sola dirección, poco usadas\n\n### Bidimensionales\n\nSuelen ser cuadradas y potencias de 2.\n\n### Texturas cúbicas\n\nExtensión de las texturas bidimensionales, muy usadas en mapeos de entornos.\n\n### Tridimensionales\n\nDatos volumétricos\n\n### Diffuse Map\n\nAlmacena coeficientes difusas que refleja la luz difusa\n\n### Specular Map\n\nAlmacena coeficientes especular que refleja la luz especular\n\n### Emissive Map\n\nSimulan objetos que emiten luz.\n\n### Lighting Map\n\nLas sombras y luces estáticas precalculada\n\n### Alpha Blending\n\nLa información de transparencia en escala de grises\n\n### Bump Map\n\nAlmacena la profundidad del fragmento, en escalas de grises.\n\n### Normal Map\n\nModificación de normales para dar sensación de relieve.\n\n### Height Map\n\nAlmacenan las alturas en escalas de grises.\n\n### Displacement Map\n\nSe almacena el desplazamiento de fragmentos o vértices en escalas de grises.\n\n## Coordenadas de Textura\n\nEl rango de coordenadas en el espacio de la textura es entre 0 y 1. Las coordenadas de textura se proporcionan para cada vértice y son interpoladas en el pipeline del procesador gráfico.\n\n### Mapeado Plano\n\n* Se proyecta la figura sobre un plano.\n* Se debe definir la orientación del plano\n\n![Flat Mapping](flat-mapping.png)\n\n### Mapeado Cilíndrico\n\nEl objeto se envuelve en un cilindro. Las coordenadas del objeto se transforman a coordenadas cilíndricas (r, θ, y). A la hora de proyectar la textura sólo se tiene en cuenta el ángulo y la altura.\n\n![Cube Mapping](cube-mapping.png)\n\n## Aliasing en Texturas\n\nEn gráficos, el término aliasing (espacial) se refiere al escalonado que se aprecia en la frontera de las primitivas debido a la limitada resolución de la pantalla.\n\n![Aliasing](aliasing.png)\n\n### Minificación\n\nUn píxel se corresponde con muchos texels\n\n### Magnificación\n\nUn téxel se corresponde con muchos pixels\n\n### Box filter\n\nSe utiliza el texel mas cercano.\n\n![Box Filter](box-filter.png)\n\n### Bilinear filter\n\nUtiliza cuatro texeles e interpola linealmente los valores.\n\n![Bilinear Filter](biliear-filter.png)\n\n### Mipmapping\n\nConsiste en proporcionar además de la textura original un conjunto de versiones más pequeñas de la textura, cada una un cuarto más pequeña que la anterior.\n\n![Mipmapping](mipmapping.png)\n\n### Supersampling\n\nSe toman las 4 esquinas del píxel y se proyectan. Se ponderan los 4 valores segun las distancias.\n\n![Supersampling](supersampling.png)\n\n### Pre-filtering\n\nSe trata el píxel como una región en la textura. Se pondera en función de la región ocupada.\n\n![Pre-filtering](prefiltering.png)\n\n## Alpha Blending\n\nLa intensidad del nuevo pixel vendrá dada por\n\n$$\nrgb = \\alpha \\cdot rgb + (1 - \\alpha) \\cdot rgb\n$$\n\n1. Activar el cálculo de la transparencia\n\n\n    glEnable(GL_BLEND);\n\n2. Especificar la función de cálculo.\n\n\n    glBlendFunc(GL_SRC_ALPHA , GL_ONE_MINUS_SRC_ALPHA);\n\n3. Desactivar la actualización del buffer de profundidad.\n\n\n    glDepthMask(GL_FALSE);\n\n4. Dibujar los objetos transparentes\n5. Deshabilitar las transparencias y volver a habilitar el buffer de profundidad\n\n\n    glDisable(GL_BLEND);\n    glDepthMask(GL_TRUE);\n\n## Reflejos\n\nSe utiliza la posición de la cámara y la normal del objeto para generar la coordenada de textura.\n\n## Sombras\n\n1. Dividir los objetos en sombreadores\n2. Crear un buffer de color en blanco y negro\n3. Deshabilitar texturas, luces …\n4. Renderizar los objetos sombreadores desde el foco lumínico\n5. Almacenar el buffer de color en una textura.\n6. Renderizar la escena proyectando la textura sobre los objetos sombreados, utilizando una matriz de proyección que se usó para generar la textura.\n\nPuede generar \"z-fighting\" con el plano. \n\n    glEnable(GL_POLYGON_OFFSET_FILL)\n    glPolygonOffset\n\n## OpenGL\n\nOpen GL es un **estándar multiplataforma** que define un API para la creación de contenido 2D y 3D que permitan aprovechar las capacidades de computo de dispositivos gráficos. Los fabricantes deben **cumplir las especificaciones**.\n\n* **API de bajo nivel**\n* **Multiplataforma**\n* **Multilenguaje**\n* **Independiente del hardware**\n* Define las **etapas de un pipeline común** para todos los tipos hardware.\n* Es una **máquina de estado** que define un contexto\n* Parte de la información se almacena en el **cliente (CPU)** y parte en el **servidor (GPU)**.\n\n### Modelo de programación\n\nOpenGL se ejecuta de acuerdo a un **estado**.\n\n![OpenGL Pipeline](opengl-pipeline.png)\n\n* Main:\n    * Inicialización del contexto y Framebuffer.\n    * Creación de la ventana.\n    * Loop principal.\n* Loop principal:\n    * Chequear eventos y tomar decisiones.\n    * Actualizar el sistema.\n    * Redibujar.\n    * Redibujar:\n* Limpiar el Framebuffer.\n    * Cambiar estado de dibujado y dibujar.\n\n### Framebuffer\n\nEstá compuesto por la información de color de cada pixel que conforma la imagen. Es común que las aplicaciones gráficas utilicen más de un buffer de color, **“DoubleBuffer”**, un buffer se muestra en pantalla (front buffer) se dibuja sobre otro (back buffer). Cuando el back buffer está listo para ser mostrado, se hace un **glutSwapBuffers** entre las referencias a donde comienza el front y el back buffer.\n\n* buffers de color\n* buffer de profundidad (Z-buffer)\n* stencil buffer\n* multisampling\n\n### GLUT\n\nLa gestión de ventanas, periféricos de entrada (ratón/teclado) y el pintado.\n\n### Etapas del cauce\n\n![OpenGL Pipeline](opengl-pipelines.png)\n\n#### **Etapa de vértices** (programable)\n\n* Entrada: atributos (color, posición, coordenadas de textura, normales…) + …\n* Salida: posición proyectada (variable especial) + variables variantes (propiedades de los vértices transformadas o creadas) + …\n\n#### Ensamblado\n\nCambio en el tipo de datos procesado. Agrupa vértices en puntos, líneas, triángulos…\n\n#### Etapa geométrica (programable, opcional):\n\n* Entrada: primitivas + variables variantes de la etapa de vértices + información de adyacencia + …\n* Salida: nuevas primitivas -\u003e posición proyectada de todos los vértices de las nuevas primitivas (variable especial) + variables variantes de los vértices de dichas primitivas + …\n\n#### Clipping y culling\n\n    glEnable(GL_CULL_FACE)\n\n#### Rasterizado\n\n* Transforma la primitiva a espacio de pantalla. \n* Crea fragmentos.\n* Cambio de tipo de datos\n\n#### Etapa de fragmentos (programable)\n\n* Entrada: variantes interpolados en la etapa de rasterizado\n* Salida: color y profundidad.\n\n#### Operaciones por fragmento: Z-buffer, blending…\n\n#### Operaciones con el frame buffer\n\n### Shaders\n\nUn shader define un programa concurrente para un conjunto de entradas. Las instancias son **independientes** entre sí.\n\n#### Variables\n\n* Atributos: Propiedades de los vértices.\n* Variables uniformes: Parámetros de solo lectura que se mantienen constantes para todos los hilos y en todas las etapas programables\n* Variables variantes: Variables de salida del shader de vértices (propiedades de vértices) y entrada del shader de fragmentos (propiedades de fragmentos). \n* Variables predefinidas: Variables propias de cada etapa con una función especial.\n* Variables locales\n* Valores de píxeles concretos del frame buffer\n\n#### Shader de vértices\n\n![Vertex Shader](vertex-shader.png)\n\n#### Shader de fragementos\n\n![Fragment Shader](fragment-shader.png)\n\n#### Configuración\n\n1. Crear y compilar los shaders\n2. Asociar los shaders a un programa\n3. Dibujar con los shaders\n\n### GLSL\n\n* Atributos: Se declaran con el calificador **in**, p.j. **in vec3 myPosition**\n* Variables uniformes: Se declaran con el calificador **uniform**,  p.j. **uniform mat4 pvm**\n* Variables para siguiente etapa: Se declaran con el calificador **out**, p.j. **out vec3 myNormal**\n* Variables locales: No requieren modificador, p.j. **vec3 myTempVec**\n* Variables predefinidas:\n    * **in int gl_VertexID**\n    * **in int gl_InstanceID**\n    * **in vec4 gl_FragCoord**\n    * **in bool gl_FrontFacing**\n    * **in float gl_ClipDistance**\n    * **in vec2 gl_PointCoord**\n    * **in int gl_PrimitiveID**\n\n#### Acceso\n\n    .x, .y, .z, .w posición o dirección\n    .r, .g, .b, .a color\n    .s, .t, .p, .q coordenadas de textura\n\n* myColor.xyz\n* myColor.rgb\n\n#### Vertex Buffer Object\n\nUn VBO es un buffer que se crea en el espacio de memoria del servidor. Puede ser dos tipo **GL_ARRAY_BUFFER** o **GL_ELEMENT_ARRAY_BUFFER**\n\n* Geometría.\n* Color.\n* Normales.\n* Coordenadas de textura.\n* Índices\n\n--------------------------------------------------------------------\n\n1. Se crea un identificador para el buffer: **glGenBuffers**\n2. Se enlaza el buffer para poder usarlo: **glBindBuffer**\n3. Se suben los datos: **glBufferData**\n4. Se asigna al atributo: **glVertexAttribPointer**\n5. Se activa el atributo: **glEnableVertexAttribArray**\n6. Se liberan recursos: **glDeleteBuffers**\n\nCuando se asigna un atributo **location** se puede sacar con **glGetAttribLocation**, o viendo **layout (location = 1) in vec3 inColor**\n\n##### Index Vertex Buffer Object\n\n![Index Vertex Buffer Object](ivbo.png)\n\n#### Vertex array object\n\nAgrupa los vbos y cuando activa vao activa todos los vbo con sus configuraciones.\n\n1. Creación: **glGenVertexArrays**\n2. Activar: **glBindVertexArrays**\n3. Asocia con vao: **glBindBuffer**\n4. Configra vbo: **glVertexAttribPointer**\n5. Acitva vao y todos sus vbos: **glEnableVertexAttribArray**\n6. Pintar\n    * Pintado con un modelo indexado\n        1. Se activa: **glBindBuffer**\n        2. Pintado: **glDrawElements**\n    * Pintado con un modelo no indexado\n        1. Pintado: **glDrawArrays**\n7. Destrucción: **glDeleteVertexArrays**\n\n## Textura\n\nCualquier etapa puede acceder a textura a través de un “sampler” con **texture**\n\n* Entrada: accesibles desde los shaders.\n* Salida: bufferes para el renderizado\n\n### Parámetros\n\n* El tipo: define la disposición de las imágenes que forma la textura.\n* El tamaño: limitado por la versión.\n* El formato de la imagen: igual para todas las imágenes que forman la textura.\n* Parámetros de muestreo.\n\n### Pasos\n\n1. Creación: **glGenTextures**\n2. Activación: **glBindTexture**\n3. Se define el tamaño, el formato interno y el contenido: **glTexStorage2D**, **glTexImage2D**, **glTexSubImage2D**\n4. Generar midmaps y utiliza automáticamente: **glGenerateMipmap**\n5. Configurar: **glTexParameteri**\n6. Enlazar con texture unit: **glActiveTexture**, **glBindTexture**\n5. Borrado: **glDeleteTexture**"
            },
            "lang": "es",
            "_nextI18Next": {
              "initialI18nStore": {
                "es": {
                  "common": { "Next": "Siguiente" },
                  "feature-tags": { "Tags": "Tags" },
                  "navbar": {
                    "Home": "Inicio",
                    "Language": "Lenguaje",
                    "Tags": "Tags",
                    "en": "Inglés",
                    "es": "Español",
                    "zh": "Chino"
                  },
                  "post-layout": { "Author": "Autor: {{author}}" }
                },
                "en": {
                  "common": { "Next": "Next" },
                  "feature-tags": { "Tags": "Tags" },
                  "navbar": {
                    "Home": "Home",
                    "Language": "Language",
                    "Tags": "Tags",
                    "en": "English",
                    "es": "Spanish",
                    "zh": "Chinese"
                  },
                  "post-layout": { "Author": "Author: {{author}}" }
                }
              },
              "initialLocale": "es",
              "ns": ["common", "feature-tags", "navbar", "post-layout"],
              "userConfig": {
                "i18n": {
                  "defaultLocale": "en",
                  "locales": ["en", "es", "zh"]
                },
                "default": {
                  "i18n": {
                    "defaultLocale": "en",
                    "locales": ["en", "es", "zh"]
                  }
                }
              }
            }
          },
          "__N_SSG": true
        },
        "page": "/posts/[slug]",
        "query": { "slug": "Grafico-Por-Computador" },
        "buildId": "fixed",
        "isFallback": false,
        "gsp": true,
        "scriptLoader": []
      }
    </script>
  </body>
</html>
